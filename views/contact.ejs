<%- include('partials/header') %>

<!-- Contact Hero / Intro -->
<section class="hero-card mb-4">
  <h1 class="mb-3">Contact RecipeCraft</h1>
  <p class="hero-sub mb-1">
    Have feedback, questions, or ideas for new features? Use the form below to get in touch
    with the RecipeCraft team.
  </p>
  <p class="hero-sub mb-0">
    We review every message and do our best to respond or use your input to improve the experience.
  </p>
</section>

<section class="recipes-shell mt-3">
  <div class="form-shell">

    <% if (submitted) { %>
      <div class="alert alert-success py-2 mb-4" role="alert">
        Thank you for contacting us. Your message has been sent.
      </div>
    <% } %>

    <!-- Bootstrap form with validation -->
    <form class="row g-3 needs-validation" novalidate method="POST" action="/contact">
      <div class="col-md-6">
        <label for="name" class="form-label">Full Name</label>
        <input
          type="text"
          class="form-control"
          id="name"
          name="name"
          placeholder="Enter your name"
          required>
        <div class="invalid-feedback">
          Please enter your name.
        </div>
      </div>

      <div class="col-md-6">
        <label for="email" class="form-label">Email Address</label>
        <input
          type="email"
          class="form-control"
          id="email"
          name="email"
          placeholder="name@example.com"
          required>
        <div class="invalid-feedback">
          Please enter a valid email address.
        </div>
      </div>

      <div class="col-md-6">
        <label for="reason" class="form-label">Reason for Contact</label>
        <select
          class="form-select"
          id="reason"
          name="reason"
          required>
          <option value="" selected disabled>Choose an option...</option>
          <option value="feedback">General feedback</option>
          <option value="bug">Bug or issue</option>
          <option value="feature">Feature request</option>
          <option value="support">Help using RecipeCraft</option>
          <option value="other">Other</option>
        </select>
        <div class="invalid-feedback">
          Please select a reason for contacting us.
        </div>
      </div>

      <div class="col-md-6">
        <label for="subject" class="form-label">Subject</label>
        <input
          type="text"
          class="form-control"
          id="subject"
          name="subject"
          placeholder="Short summary"
          required>
        <div class="invalid-feedback">
          Please enter a subject.
        </div>
      </div>

      <div class="col-12">
        <label for="message" class="form-label">Message</label>
        <textarea
          class="form-control"
          id="message"
          name="message"
          rows="5"
          placeholder="Write your message here..."
          required></textarea>
        <div class="invalid-feedback">
          Please enter a message.
        </div>
      </div>

      <div class="col-12">
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            value=""
            id="consent"
            required>
          <label class="form-check-label" for="consent">
            I agree that RecipeCraft may use this information to respond to my request.
          </label>
          <div class="invalid-feedback">
            You must agree before submitting.
          </div>
        </div>
      </div>

      <div class="col-12">
        <button class="btn btn-primary hero-btn-main" type="submit">
          Send Message
        </button>
      </div>
    </form>
  </div>
</section>

<!-- Bootstrap validation script -->
<script>
  (function () {
    'use strict';

    const forms = document.querySelectorAll('.needs-validation');

    Array.prototype.slice.call(forms)
      .forEach(function (form) {
        form.addEventListener('submit', function (event) {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
  })();
</script>

<%- include('partials/footer') %>
